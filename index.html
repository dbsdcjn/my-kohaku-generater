<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My紅白歌合戦メーカー 2025</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; background: #f0f0f0; margin: 0; padding: 20px; }
        .container { display: flex; gap: 20px; max-width: 1200px; margin: 0 auto; flex-wrap: wrap; }
        
        /* 入力エリアのスタイル */
        .input-area { flex: 1; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); min-width: 300px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; }
        input[type="text"], textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        textarea { height: 150px; }
        button { background: #333; color: white; border: none; padding: 10px 20px; cursor: pointer; font-size: 16px; border-radius: 4px; width: 100%; }
        button:hover { background: #555; }

        /* プレビューエリア（画像化される部分） */
        #preview-area { 
            width: 800px; 
            background: white; 
            padding: 40px; 
            box-sizing: border-box; 
            text-align: center;
            font-family: "Yu Mincho", "YuMincho", "Hiragino Mincho ProN", serif; 
        }

        /* ロゴ・タイトル部分（修正箇所：N◯K） */
        .header-logo { font-size: 24px; color: #b8860b; margin-bottom: 10px; font-weight: bold; }
        .main-title { font-size: 42px; font-weight: bold; margin-bottom: 40px; color: #333; letter-spacing: 2px; }

        /* 紅白のリスト表示部分 */
        .teams-container { display: flex; justify-content: space-between; gap: 40px; margin-bottom: 30px; }
        .team { flex: 1; }
        
        /* 各組ヘッダー共通設定 */
        .team-header { padding: 10px; font-weight: bold; margin-bottom: 20px; font-family: sans-serif; }
        
        /* 紅組ヘッダー */
        .red-header { background: #ffebeb; color: #d32f2f; border-top: 4px solid #d32f2f; }
        /* 白組ヘッダー */
        .white-header { background: #fff8e1; color: #b8860b; border-top: 4px solid #b8860b; }
        /* 特別企画ヘッダー */
        .special-header { background: #e0f2f1; color: #00695c; border-top: 4px solid #009688; }

        /* 出場者リスト */
        .artist-list { list-style: none; padding: 0; margin: 0; text-align: center; }
        .artist-list li { padding: 12px 0; border-bottom: 1px dotted #ccc; font-weight: bold; font-size: 18px; }
        
        /* 文字色 */
        .red-team .artist-list li { color: #d32f2f; }
        .white-team .artist-list li { color: #b8860b; }
        .special-section .artist-list li { color: #004d40; }

        /* 特別企画エリア全体 */
        .special-section { margin-top: 30px; }
    </style>
</head>
<body>

<div class="container">
    <div class="input-area">
        <h2>設定・入力</h2>
        <div class="input-group">
            <label>タイトル（例：〇〇家の、第1回 〇〇）</label>
            <input type="text" id="input-title" value="私の最強" oninput="updatePreview()">
        </div>
        <div class="input-group">
            <label>紅組アーティスト（1行に1組）</label>
            <textarea id="input-red" oninput="updatePreview()">あいみょん&#13;椎名林檎&#13;Ado&#13;宇多田ヒカル</textarea>
        </div>
        <div class="input-group">
            <label>白組アーティスト（1行に1組）</label>
            <textarea id="input-white" oninput="updatePreview()">Vaundy&#13;King Gnu&#13;藤井風&#13;星野源</textarea>
        </div>
        <div class="input-group">
            <label>特別企画（1行に1組）</label>
            <textarea id="input-special" oninput="updatePreview()">Queen&#13;松平健</textarea>
        </div>
        <button onclick="downloadImage()">画像を保存する</button>
    </div>

    <div id="preview-wrapper">
        <div id="preview-area">
            <div class="header-logo">2025年 N◯K</div>
            <div class="main-title"><span id="display-title">私の最強</span>紅白歌合戦</div>
            
            <div class="teams-container">
                <div class="team red-team">
                    <div class="team-header red-header">紅 組</div>
                    <ul class="artist-list" id="list-red"></ul>
                </div>
                <div class="team white-team">
                    <div class="team-header white-header">白 組</div>
                    <ul class="artist-list" id="list-white"></ul>
                </div>
            </div>

            <div class="special-section">
                <div class="team-header special-header">特別企画</div>
                <ul class="artist-list" id="list-special"></ul>
            </div>
            
            </div>
    </div>
</div>

<script>
    updatePreview();

    function updatePreview() {
        document.getElementById('display-title').innerText = document.getElementById('input-title').value;

        function generateList(inputId, listId) {
            const text = document.getElementById(inputId).value;
            const lines = text.split('\n');
            const listElement = document.getElementById(listId);
            listElement.innerHTML = '';

            lines.forEach(line => {
                if (line.trim() !== '') {
                    const li = document.createElement('li');
                    li.innerText = line;
                    listElement.appendChild(li);
                }
            });
        }

        generateList('input-red', 'list-red');
        generateList('input-white', 'list-white');
        generateList('input-special', 'list-special');
    }

    function downloadImage() {
        const target = document.getElementById('preview-area');
        html2canvas(target, { scale: 2 }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'kohaku_2025.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    }
</script>

</body>
</html>
